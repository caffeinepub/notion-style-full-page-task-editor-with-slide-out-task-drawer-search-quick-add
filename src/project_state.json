{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "New project",
  "architectural_notes": [
    "Use optimistic UI updates for task/habit completion to avoid UI reverting briefly (flicker) while awaiting server confirmation."
  ],
  "known_issues": [
    "Checking a task/habit briefly flickers back to the previous state before settling, across all checkable locations."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-eliminate-the-completion-toggle-flicker-by-making-task-completion-changes-apply-immediately-optimistic-ui-across-all-ui-locations-that-can-mark-a-task-complete-incomplete-e-g-taskcard-in-day-week-month-views-and-any-other-list-using-react-query-task-caches",
      "title": "Eliminate the completion-toggle flicker by making task completion changes apply immediately (optimistic UI) across all UI locations that can mark a task complete/incomplete (e.g., TaskCard in Day/Week/Month views and any other list using React Query task caches).",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-react-query-optimistic-update-logic-for-completion-toggling-so-that-it-synchronously-updates-all-relevant-cached-queries-all-queries-whose-keys-start-with-tasks-and-the-individual-task-taskid-cache-if-present-before-any-potential-refetch-overwrite-can-cause-a-brief-reversion",
      "title": "Update the React Query optimistic update logic for completion toggling so that it synchronously updates all relevant cached queries (all queries whose keys start with ['tasks', ...] and the individual ['task', taskId] cache if present) before any potential refetch/overwrite can cause a brief reversion.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Fix checkbox/task/habit completion flicker by implementing reliable optimistic UI updates across all places where items can be checked",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "projectName": "Fix task completion checkbox flicker with reliable optimistic updates",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}